defproc testproc(chan?(int) X; chan!(int) Y)
{
  int a, b, c, d;

   chp {
      X?a;
      b := a + 1;
      [ b = 0 -> b := b + 1
      [] b = 1 -> b := a - 1
      [] else -> b := 3
      ];	       
      Y!b
   }
}
