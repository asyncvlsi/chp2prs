import "2.act";
import "2_df_chp.act";

defproc test()
{
  chan(int) X, Y;
  
  df_testproc d(X,Y);

  int a, b;
  bool success;

  chp {
    success+;
    X!5;
    Y?a;
    Y?b;
    [ a = 6 & b = 15 -> skip [] else -> success- ];
    X!5;
    Y?a;
    Y?b;
    [ a = 6 & b = 15 -> skip [] else -> success- ];
    [ success -> log ("SUCCESS") [] else -> log ("FAILURE") ]
  }
}
