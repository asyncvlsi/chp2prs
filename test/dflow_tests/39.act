defenum etst {
   A, B
};

defproc testproc(chan?(int) X; chan!(int) Y)
{  
  int a, b, c;
  etst x;
  chp {
    x := etst.A;
    X?a; 
    [ x = etst.A -> Y!(a+1)
   [] else -> Y!(a-1)
    ]
  }
}
