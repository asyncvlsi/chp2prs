deftype pair(int<16> x, y) {}

defproc gcd6(chan?(pair) X; chan!(pair) O) {
  pair p;

  chp {
    *[
      X?p;
      *[  p.x > p.y ->  p.x := p.x - p.y
      [] p.y > p.x ->  p.y := p.y - p.x
      ];
      O!p
    ]
  }
}
